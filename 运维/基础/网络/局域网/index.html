<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="//img.to2b.cn/blog/ljk/1607154764582.png">
  <link rel="icon" type="image/png" sizes="32x32" href="//img.to2b.cn/blog/ljk/1607154764582.png">
  <link rel="icon" type="image/png" sizes="16x16" href="//img.to2b.cn/blog/ljk/1607154764582.png">
  <link rel="mask-icon" href="//img.to2b.cn/blog/ljk/1607154764582.png" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="//s1.to2b.cn/libs/fontawesome-free/5.15.4/css/all.min.css">

<script class="next-config" data-name="main" type="application/json">{"hostname":"blog.lujinkai.cn","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.16.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":10},"copycode":{"enable":true,"style":"flat"},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"algolia":{"appID":"KN3H1V8A6V","apiKey":"c5d73d0dde2dd770ce49b505f938553d","indexName":"hexo","hits":{"per_page":20,"labels":{"input_placeholder":"Search for Posts","hits_empty":"We did not find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}}}}</script><script src="/js/config.js"></script>

    <meta name="description" content="局域网标准局域网标准：IEEE802，802 标准所描述的局域网参考模型只对应 OSI 参考模型的数据链路层与物理层，它将数据链路层划分为逻辑链路层 LLC 子层和介质访问控制 MAC 子层  LLC 子层负责向其上层提供服务 MAC 子层的主要功能包括数据帧的封装&#x2F;卸装，帧的寻址和识别，帧的接收与发送，链路的管理，帧的差错控制等。MAC 子层的存在屏蔽了不同物理链路种类的差异性  80">
<meta property="og:type" content="article">
<meta property="og:title" content="局域网">
<meta property="og:url" content="http://blog.lujinkai.cn/%E8%BF%90%E7%BB%B4/%E5%9F%BA%E7%A1%80/%E7%BD%91%E7%BB%9C/%E5%B1%80%E5%9F%9F%E7%BD%91/index.html">
<meta property="og:site_name" content="LJKのBlog">
<meta property="og:description" content="局域网标准局域网标准：IEEE802，802 标准所描述的局域网参考模型只对应 OSI 参考模型的数据链路层与物理层，它将数据链路层划分为逻辑链路层 LLC 子层和介质访问控制 MAC 子层  LLC 子层负责向其上层提供服务 MAC 子层的主要功能包括数据帧的封装&#x2F;卸装，帧的寻址和识别，帧的接收与发送，链路的管理，帧的差错控制等。MAC 子层的存在屏蔽了不同物理链路种类的差异性  80">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://img.to2b.cn/blog/ljk/1598084924665.png">
<meta property="og:image" content="http://img.to2b.cn/blog/ljk/1598060737847.png">
<meta property="og:image" content="http://img.to2b.cn/blog/ljk/1598062823623.png">
<meta property="og:image" content="http://img.to2b.cn/blog/ljk/1598874897322.png">
<meta property="og:image" content="http://img.to2b.cn/blog/ljk/1598065993943.png">
<meta property="og:image" content="http://img.to2b.cn/blog/lujinkai/1663565223763.png">
<meta property="og:image" content="http://img.to2b.cn/blog/ljk/1598177029080.png">
<meta property="og:image" content="http://img.to2b.cn/blog/ljk/1598179484630.png">
<meta property="og:image" content="http://img.to2b.cn/blog/ljk/1598179517916.png">
<meta property="article:published_time" content="2021-01-01T14:30:16.000Z">
<meta property="article:modified_time" content="2023-05-29T08:58:05.510Z">
<meta property="article:author" content="像方便面一样的男子">
<meta property="article:tag" content="网络">
<meta property="article:tag" content="局域网">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://img.to2b.cn/blog/ljk/1598084924665.png">


<link rel="canonical" href="http://blog.lujinkai.cn/%E8%BF%90%E7%BB%B4/%E5%9F%BA%E7%A1%80/%E7%BD%91%E7%BB%9C/%E5%B1%80%E5%9F%9F%E7%BD%91/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://blog.lujinkai.cn/%E8%BF%90%E7%BB%B4/%E5%9F%BA%E7%A1%80/%E7%BD%91%E7%BB%9C/%E5%B1%80%E5%9F%9F%E7%BD%91/","path":"运维/基础/网络/局域网/","title":"局域网"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>局域网 | LJKのBlog</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">LJKのBlog</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">学无止境</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container"></div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container">
  <div class="algolia-stats"><hr></div>
  <div class="algolia-hits"></div>
  <div class="algolia-pagination"></div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B1%80%E5%9F%9F%E7%BD%91%E6%A0%87%E5%87%86"><span class="nav-number">1.</span> <span class="nav-text">局域网标准</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%84%E7%BD%91%E8%AE%BE%E5%A4%87"><span class="nav-number">2.</span> <span class="nav-text">组网设备</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BA%BF%E6%9E%B6%E3%80%81%E8%B7%B3%E7%BA%BF"><span class="nav-number">2.1.</span> <span class="nav-text">配线架、跳线</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E7%BA%BF%E3%80%81%E5%85%89%E7%BA%A4"><span class="nav-number">2.2.</span> <span class="nav-text">网线、光纤</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E9%80%82%E9%85%8D%E5%99%A8"><span class="nav-number">2.3.</span> <span class="nav-text">网络适配器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%AD%E7%BB%A7%E5%99%A8%E5%92%8C%E9%9B%86%E7%BA%BF%E5%99%A8"><span class="nav-number">2.4.</span> <span class="nav-text">中继器和集线器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E6%A1%A5%E5%92%8C%E4%BA%A4%E6%8D%A2%E6%9C%BA"><span class="nav-number">2.5.</span> <span class="nav-text">网桥和交换机</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BD%91%E6%A1%A5"><span class="nav-number">2.5.1.</span> <span class="nav-text">网桥</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%A4%E6%8D%A2%E6%9C%BA"><span class="nav-number">2.5.2.</span> <span class="nav-text">交换机</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B7%AF%E7%94%B1%E5%99%A8"><span class="nav-number">2.6.</span> <span class="nav-text">路由器</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8A%80%E6%9C%AF"><span class="nav-number">3.</span> <span class="nav-text">以太网技术</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#MAC-%E5%9C%B0%E5%9D%80"><span class="nav-number">3.1.</span> <span class="nav-text">MAC 地址</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%99%9A%E6%8B%9F%E5%B1%80%E5%9F%9F%E7%BD%91-VLAN"><span class="nav-number">4.</span> <span class="nav-text">虚拟局域网 VLAN</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%86%E5%B1%82%E7%9A%84%E7%BD%91%E7%BB%9C%E6%9E%B6%E6%9E%84"><span class="nav-number">5.</span> <span class="nav-text">分层的网络架构</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="像方便面一样的男子"
      src="//img.to2b.cn/blog/ljk/1607154764582.png">
  <p class="site-author-name" itemprop="name">像方便面一样的男子</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">340</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">73</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">99</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/ljkk" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;ljkk" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>

        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://blog.lujinkai.cn/%E8%BF%90%E7%BB%B4/%E5%9F%BA%E7%A1%80/%E7%BD%91%E7%BB%9C/%E5%B1%80%E5%9F%9F%E7%BD%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="//img.to2b.cn/blog/ljk/1607154764582.png">
      <meta itemprop="name" content="像方便面一样的男子">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LJKのBlog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="局域网 | LJKのBlog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          局域网
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-01-01 22:30:16" itemprop="dateCreated datePublished" datetime="2021-01-01T22:30:16+08:00">2021-01-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-05-29 16:58:05" itemprop="dateModified" datetime="2023-05-29T16:58:05+08:00">2023-05-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%BF%90%E7%BB%B4/" itemprop="url" rel="index"><span itemprop="name">运维</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%BF%90%E7%BB%B4/%E5%9F%BA%E7%A1%80/" itemprop="url" rel="index"><span itemprop="name">基础</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%BF%90%E7%BB%B4/%E5%9F%BA%E7%A1%80/%E7%BD%91%E7%BB%9C/" itemprop="url" rel="index"><span itemprop="name">网络</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h2 id="局域网标准"><a href="#局域网标准" class="headerlink" title="局域网标准"></a>局域网标准</h2><p>局域网标准：IEEE802，802 标准所描述的局域网参考模型只对应 OSI 参考模型的数据链路层与物理层，它将数据链路层划分为逻辑链路层 LLC 子层和介质访问控制 MAC 子层</p>
<ul>
<li>LLC 子层负责向其上层提供服务</li>
<li>MAC 子层的主要功能包括数据帧的封装&#x2F;卸装，帧的寻址和识别，帧的接收与发送，链路的管理，帧的差错控制等。MAC 子层的存在屏蔽了不同物理链路种类的差异性</li>
</ul>
<p>802 细分成各个小的局域网标准</p>
<ul>
<li>IEEE802.1 早期局域网标准</li>
<li>IEEE802.2 工作在 LLC 层，LLC 层为上一层也就是网络层提供服务，为了兼容早期的 802.3</li>
<li>IEEE802.3 工作在物理层和 MAC 层，早期的 802.3 没有说清楚上层物理层是什么协议，它认为只有一种协议 ipx，现在 ipx 已经淘汰了，主流是 ip 协议。所以它需要配合 802.2 来表示上层协议的类型。</li>
<li>IEEE802.11 无线局域网技术<ul>
<li>802.11b — WiFi 1 (1999)</li>
<li>802.11a — WiFi 2 (1999)</li>
<li>802.11g — WiFi 3 (2003)</li>
<li>802.11n — WiFi 4 (2009)</li>
<li>802.11ac — WiFi 5(2014)</li>
<li>802.11ax — WiFi 6(2018)</li>
</ul>
</li>
</ul>
<p>IEEE802.3+IEEE802.2 的组合也不方便，所以实际中我们也不使用这种标准，使用的是 Etherent V2 以太网第二版协议</p>
<p><img data-src="//img.to2b.cn/blog/ljk/1598084924665.png"></p>
<p>前 8 个字节 Preamble 是前导信息；最后 4 个字节 FCS 是校验位；Destination Address 是接收方的 MAC 地址，Source Address 是发送方的 MAC 地址，MAC 地址是 48 位，也就是 6 个字节；type 指定上层接收数据的协议类型（ip），length 说明后面数据的长度</p>
<h2 id="组网设备"><a href="#组网设备" class="headerlink" title="组网设备"></a>组网设备</h2><table>
    <tr style="background-color:#eee">
        <td rowspan="3"><img data-src="//img.to2b.cn/blog/ljk/1598060737847.png" alt=""></td>
        <td>switch：交换机，最常见</td>
    </tr>
    <tr style="background-color:#eee">
        <td>router: 路由器</td>
    </tr>
    <tr style="background-color:#eee">
        <td>hub：集线器，很便宜，已淘汰</td>
    </tr>
</table>

<h3 id="配线架、跳线"><a href="#配线架、跳线" class="headerlink" title="配线架、跳线"></a>配线架、跳线</h3><p>网线先接到配线架上，在通过跳线连接到交换机。因为网线比较长，而且一般都固定在地上或墙上，一旦坏了不方便拆换，所以网线一旦插好了就不动了，如果有调整，只动跳线就可以了，跳线比较短</p>
<h3 id="网线、光纤"><a href="#网线、光纤" class="headerlink" title="网线、光纤"></a>网线、光纤</h3><p>工作在物理层</p>
<h3 id="网络适配器"><a href="#网络适配器" class="headerlink" title="网络适配器"></a>网络适配器</h3><p>简称网卡，工作在数据链路层。进行串行&#x2F;并行转换、数据缓存、在计算机操作系统中安装设备驱动程序、实现以太网协议</p>
<p>一张网卡可能有一个或多个接口</p>
<p><img data-src="//img.to2b.cn/blog/ljk/1598062823623.png" style="zoom: 50%;" /><img data-src="//img.to2b.cn/blog/ljk/1598874897322.png" style="zoom:50%;" /></p>
<h3 id="中继器和集线器"><a href="#中继器和集线器" class="headerlink" title="中继器和集线器"></a>中继器和集线器</h3><p>工作在物理层。远距离传输，信号有衰减，中继器可以放大信号，但当负载增加时，网络性能急剧下降；集线器可以认为是一个多端口的中继器，也可以放大信号，它工作模式基于广播机制，不安全。连接在同一集线器的电脑处于同一冲突域和同一广播域，所以所有电脑通信是半双工，而且共享带宽。</p>
<h3 id="网桥和交换机"><a href="#网桥和交换机" class="headerlink" title="网桥和交换机"></a>网桥和交换机</h3><p>两者工作逻辑是一样的，都工作在数据链路层、每个端口可提供专用的带宽、全双工通信。</p>
<h4 id="网桥"><a href="#网桥" class="headerlink" title="网桥"></a>网桥</h4><p>也叫桥接器，是连接两个局域网的一种存储&#x2F;转发设备，网桥中缓存连接设备的 MAC 地址，并将 MAC 地址和其连接端口对应起来，网桥判断发送方 MAC 和接受方 MAC 连接的是同一端口，说明它俩处于同一个局域网，就不会向其他局域网发送信息，这样就隔绝了冲突域<br><img data-src="//img.to2b.cn/blog/ljk/1598065993943.png"></p>
<h4 id="交换机"><a href="#交换机" class="headerlink" title="交换机"></a>交换机</h4><p>相比网桥，端口更多，网桥一个端口连接一个局域网，交换机一个端口连接一台电脑，所以彻底解决冲突域的问题</p>
<ol>
<li>交换机根据收到数据帧中的源 MAC 地址建立该地址同交换机端口的映射，并将其写入 MAC 地址表中</li>
<li>交换机将数据帧中的目的 MAC 地址同已建立的 MAC 地址表进行比较，以决定由哪个端口进行转发</li>
<li>如数据帧中的目的 MAC 地址不在 MAC 地址表中，则向所有端口转发。这一过程称为泛洪（flood）</li>
<li>广播帧和组播帧向所有的端口转发</li>
</ol>
<h3 id="路由器"><a href="#路由器" class="headerlink" title="路由器"></a>路由器</h3><p>网桥和交换机可以隔离冲突域，但是无法隔离广播域： ① 交换机接收到广播帧会广播；② 接到单播看 mac 表有没有学到对应目的 mac 的缓存，没有的话还是会广播</p>
<p>所以需要在交换机前面加上一个路由器， 路由器可以隔绝广播</p>
<p>交换机是二层设备，路由器是三层设备，判断设备在几层是由设备的最高功能决定的，三层设备能处理一层和二层信息，反之二层设备不能处理三层的信息</p>
<h2 id="以太网技术"><a href="#以太网技术" class="headerlink" title="以太网技术"></a>以太网技术</h2><p>以太网（Ethernet）是一种产生较早且使用相当广泛的局域网。</p>
<p>现在大部分的局域网均为以太网，因此一般提及局域网都会默认为以太网。</p>
<h3 id="MAC-地址"><a href="#MAC-地址" class="headerlink" title="MAC 地址"></a>MAC 地址</h3><p>48 位，固化在网卡 ROM 中，IEEE 的注册管理机构 RA 负责向厂家分配地址字段的前三个字节(即高位 24 位)，后三个字节(即低位 24 位)由厂家自行指派，称为扩展标识符，必须保证生产出的适配器没有重复地址。</p>
<p>发送数据的时候，在接收方 MAC 地址中注明这条数据是单播、组播还是多播。MAC 地址由 6 字节 48bit 组成，第 48bit（即第 1 个字节的最后 1bit）如果为 0 说明这条数据是单播。如果为 1 说明这条数据是组播或者多播。多播只有一种情况，就是 MAC 地址的 48bit 全部都是 1：FF FF FF FF FF FF。</p>
<p>显然：组播和多播的 MAC 地址是逻辑地址，在网络上，没有一个设备的 MAC 地址是一个组播 MAC 地址或者多播地址 FF FF FF FF FF FF。对于网络设备上固化的 MAC 地址，只能是单播地址，也就是 MAC 帧中的发送方的 MAC 地址第 48 位只能 0。</p>
<p>接收数据，在二层根据接收方 MAC 地址的 48bit 判断单播、组播还是多播。如果是单播，再判断接收方 MAC 地址是否为自身的 MAC 地址，不是就丢弃；如果是多播，无条件接收；如果是组播，判断是否为本机监听的组播，不是就丢弃。</p>
<ul>
<li>发送端发送组播包时，目的 mac 地址是根据组播 ip 和固定格式进行映射，并没有指向固定目标主机，向网络上进行发送。</li>
<li>接收端接收组播包时，同样需要对组播 ip 和固定格式进行映射，生成的组播 mac 地址与接收到的数据包 mac 比对，若相通往上传。</li>
</ul>
<p>路由器可以不接受广播和组播</p>
<h2 id="虚拟局域网-VLAN"><a href="#虚拟局域网-VLAN" class="headerlink" title="虚拟局域网 VLAN"></a>虚拟局域网 VLAN</h2><p>企业内部的局域网，尤其是比较大的局域网，有很多交换机，交换机不隔离广播，所以一台 PC 发送消息，通过路由器、核心交换机广播到局域网中所有的 PC，这样是不合理的。路由器可以隔离，但是在企业内部是不会用路由器来隔离广播的，因为路由器很贵，而且接口比较少，所以一般只用来连接外网。家用的路由器实际上是交换机和路由器的结合体。</p>
<p>可以给交换机增加隔离广播域的功能，实现原理是通过<strong>软件</strong>实现逻辑上的局域网，即虚拟局域网 VLAN。</p>
<p>简单理解：</p>
<p>交换机有很多端口，交换机缓存端口和 vlan 的关联，这样，从一个网口出来的以太帧，只广播到与之关联的 vlan 关联的端口，这样就隔离了广播。当然，一个 vlan 关联的网口可能处于不同的交换机，所以需要制定一个协议（trunk 协议），在发送给其他交换机的广播的帧中塞入一个标签，注明来自哪个 vlan。</p>
<p>实现 vlan，除了基于端口划分，也可以基于 MAC、协议、网络地址来划分。</p>
<p>trunk 协议给塞入的标签分配了 4 个字节，其中只有 12 个 bit 用来表示来自哪个 VLAN，可以表示 2^12 个 VLAN，对于普通的局域网是够的，但是对于云服务商不够，例如阿里云，成千上万企业在阿里云购买主机，阿里云需要把每个企业的服务器隔离开来，4 千多个个 VLAN 不够用。使用 VXLAN 技术可以解决这个问题</p>
<p><img data-src="//img.to2b.cn/blog/lujinkai/1663565223763.png" alt="IEEE 802.1Q封装的VLAN数据帧格式"></p>
<h2 id="分层的网络架构"><a href="#分层的网络架构" class="headerlink" title="分层的网络架构"></a>分层的网络架构</h2><p>比较完善的网络架构可以分成三层：访问层、分布层、核心层。</p>
<img data-src="//img.to2b.cn/blog/ljk/1598177029080.png" style="zoom: 80%;" />

<p><img data-src="//img.to2b.cn/blog/ljk/1598179484630.png"></p>
<p><img data-src="//img.to2b.cn/blog/ljk/1598179517916.png"></p>
<p>11.1 40min-52min</p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="reward-container">
  <div>请我一杯咖啡吧！</div>
  <button>
    赞赏
  </button>
  <div class="post-reward">
      <div>
        <img src="//img.to2b.cn/blog/ljk/1607160536339.png" alt="像方便面一样的男子 微信">
        <span>微信</span>
      </div>
      <div>
        <img src="//img.to2b.cn/blog/ljk/1607160019009.png" alt="像方便面一样的男子 支付宝">
        <span>支付宝</span>
      </div>

  </div>
</div>

          <div class="post-tags">
              <a href="/tags/%E7%BD%91%E7%BB%9C/" rel="tag"><i class="fa fa-tag"></i> 网络</a>
              <a href="/tags/%E5%B1%80%E5%9F%9F%E7%BD%91/" rel="tag"><i class="fa fa-tag"></i> 局域网</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/%E8%BF%90%E7%BB%B4/%E5%9F%BA%E7%A1%80/%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/" rel="prev" title="网络基础">
                  <i class="fa fa-chevron-left"></i> 网络基础
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/%E8%BF%90%E7%BB%B4/%E5%9F%BA%E7%A1%80/%E7%BD%91%E7%BB%9C/TCP%E6%B3%A8%E5%86%8C%E7%AB%AF%E5%8F%A3%E5%8F%B7%E5%A4%A7%E5%85%A8/" rel="next" title="TCP注册端口号大全">
                  TCP注册端口号大全 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">鲁ICP备18016600号-1 </a>
  </div>

<div class="copyright">
  &copy; 2018 – 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">像方便面一样的男子</span>
</div>

    </div>
  </footer>

  
  <div class="reading-progress-bar"></div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="//s1.to2b.cn/libs/animejs/3.2.1/anime.min.js"></script>
  <script src="//s1.to2b.cn/libs/lozad.js/1.16.0/lozad.min.js"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/next-boot.js"></script>

  <script src="//s1.to2b.cn/libs/algoliasearch/4.11.0/algoliasearch-lite.umd.min.js"></script>
<script src="//s1.to2b.cn/libs/instantsearch.js/4.36.0/instantsearch.production.min.js"></script><script src="/js/third-party/search/algolia-search.js"></script>






  





</body>
</html>
